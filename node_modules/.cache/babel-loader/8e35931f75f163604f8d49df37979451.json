{"ast":null,"code":"import _classCallCheck from\"/home/paulo/gh-pages/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/paulo/gh-pages/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/paulo/gh-pages/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/paulo/gh-pages/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/paulo/gh-pages/TrybeTunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import{getUser}from'../services/userAPI';import Loading from'../pages/Loading';import'../css/Header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.state={user:null,loading:true};_this.displayUserName=_this.displayUserName.bind(_assertThisInitialized(_this));_this.linkList=_this.linkList.bind(_assertThisInitialized(_this));return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getUser().then(function(user){return _this2.setState({user:user,loading:false});});}},{key:\"displayUserName\",value:function displayUserName(){var name=this.state.user.name;if(!name)return/*#__PURE__*/_jsx(\"span\",{});return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ola \"}),/*#__PURE__*/_jsx(\"span\",{\"data-testid\":\"header-user-name\",children:name})]});}},{key:\"linkList\",value:function linkList(){return/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0 d-flex\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",\"aria-current\":\"page\",to:\"/search\",\"data-testid\":\"link-to-search\",children:\"Search\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",\"aria-current\":\"page\",to:\"/favorites\",\"data-testid\":\"link-to-favorites\",children:\"Favorites\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",\"aria-current\":\"page\",to:\"/profile\",\"data-testid\":\"link-to-profile\",children:\"Profile\"})})]});}},{key:\"render\",value:function render(){var loading=this.state.loading;return/*#__PURE__*/_jsx(\"header\",{\"data-testid\":\"header-component\",className:\"bg-dark\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"container navbar navbar-expand-lg navbar-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white navbar-brand h1-margin\",children:\"TrybeTunes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarText\",\"aria-controls\":\"navbarText\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarText\",children:[this.linkList(),/*#__PURE__*/_jsx(\"span\",{className:\"navbar-text\",children:loading?/*#__PURE__*/_jsx(Loading,{}):this.displayUserName()})]})]})})});}}]);return Header;}(React.Component);export default Header;","map":{"version":3,"sources":["/home/paulo/gh-pages/TrybeTunes/src/components/Header.jsx"],"names":["React","Link","getUser","Loading","Header","props","state","user","loading","displayUserName","bind","linkList","then","setState","name","Component"],"mappings":"8uBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAO,mBAAP,C,2FAEMC,CAAAA,M,4GACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,IADK,CAEXC,OAAO,CAAE,IAFE,CAAb,CAIA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CAPiB,aAQlB,C,oDAED,4BAAoB,iBAClBR,OAAO,GAAGU,IAAV,CAAe,SAACL,IAAD,QAAU,CAAA,MAAI,CAACM,QAAL,CAAc,CAAEN,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAE,KAAjB,CAAd,CAAV,EAAf,EACD,C,+BAED,0BAAkB,CAChB,GAAgBM,CAAAA,IAAhB,CAA2B,KAAKR,KAAhC,CAAQC,IAAR,CAAgBO,IAAhB,CACA,GAAI,CAACA,IAAL,CAAW,mBAAQ,eAAR,CACX,mBACE,qCACE,8BADF,cAEE,aAAM,cAAY,kBAAlB,UAAsCA,IAAtC,EAFF,GADF,CAMD,C,wBAED,mBAAW,CACT,mBACE,YAAI,SAAS,CAAC,wCAAd,wBACE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EACE,SAAS,CAAC,iBADZ,CAEE,eAAa,MAFf,CAGE,EAAE,CAAC,SAHL,CAIE,cAAY,gBAJd,oBADF,EADF,cAWE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EACE,SAAS,CAAC,iBADZ,CAEE,eAAa,MAFf,CAGE,EAAE,CAAC,YAHL,CAIE,cAAY,mBAJd,uBADF,EAXF,cAqBE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EACE,SAAS,CAAC,iBADZ,CAEE,eAAa,MAFf,CAGE,EAAE,CAAC,UAHL,CAIE,cAAY,iBAJd,qBADF,EArBF,GADF,CAkCD,C,sBAED,iBAAS,CACP,GAAQN,CAAAA,OAAR,CAAoB,KAAKF,KAAzB,CAAQE,OAAR,CACA,mBACE,eACE,cAAY,kBADd,CAEE,SAAS,CAAC,SAFZ,uBAIE,YAAK,SAAS,CAAC,+CAAf,uBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,WAAI,SAAS,CAAC,mCAAd,wBADF,cAEE,eACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,iBAAe,UAHjB,CAIE,iBAAe,aAJjB,CAKE,gBAAc,YALhB,CAME,gBAAc,OANhB,CAOE,aAAW,mBAPb,uBASE,aAAM,SAAS,CAAC,qBAAhB,EATF,EAFF,cAaE,aAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,YAA7C,WACG,KAAKG,QAAL,EADH,cAEE,aAAM,SAAS,CAAC,aAAhB,UACGH,OAAO,cAAG,KAAC,OAAD,IAAH,CAAiB,KAAKC,eAAL,EAD3B,EAFF,GAbF,GADF,EAJF,EADF,CA6BD,C,oBA9FkBT,KAAK,CAACe,S,EAiG3B,cAAeX,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from '../pages/Loading';\nimport '../css/Header.css';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      loading: true,\n    };\n    this.displayUserName = this.displayUserName.bind(this);\n    this.linkList = this.linkList.bind(this);\n  }\n\n  componentDidMount() {\n    getUser().then((user) => this.setState({ user, loading: false }));\n  }\n\n  displayUserName() {\n    const { user: { name } } = this.state;\n    if (!name) return (<span />);\n    return (\n      <span>\n        <span>Ola </span>\n        <span data-testid=\"header-user-name\">{name}</span>\n      </span>\n    );\n  }\n\n  linkList() {\n    return (\n      <ul className=\"navbar-nav me-auto mb-2 mb-lg-0 d-flex\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            aria-current=\"page\"\n            to=\"/search\"\n            data-testid=\"link-to-search\"\n          >\n            Search\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            aria-current=\"page\"\n            to=\"/favorites\"\n            data-testid=\"link-to-favorites\"\n          >\n            Favorites\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            aria-current=\"page\"\n            to=\"/profile\"\n            data-testid=\"link-to-profile\"\n          >\n            Profile\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const { loading } = this.state;\n    return (\n      <header\n        data-testid=\"header-component\"\n        className=\"bg-dark\"\n      >\n        <nav className=\"container navbar navbar-expand-lg navbar-dark\">\n          <div className=\"container-fluid\">\n            <h1 className=\"text-white navbar-brand h1-margin\">TrybeTunes</h1>\n            <button\n              className=\"navbar-toggler\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#navbarText\"\n              aria-controls=\"navbarText\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <span className=\"navbar-toggler-icon\" />\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarText\">\n              {this.linkList()}\n              <span className=\"navbar-text\">\n                {loading ? <Loading /> : this.displayUserName()}\n              </span>\n            </div>\n          </div>\n        </nav>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}